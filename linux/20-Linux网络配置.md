# Linux网络配置

# Linux配置IP地址
### `ifconfig`命令临时配置IP地址
+ `ifconfig`查看与配置网络状态命令
+ `ifconfig eth0 192.168.0.200 netmask 255.255.255.0`临时设置eth0网卡的IP地址与子网掩码

### `setup`工具永久配置IP地址
+ 红帽子专有图形化工具`setup`设置IP地址
+ 重启网络`service network restart`

### 图形界面配置IP地址

# Linux修改网络配置文件(标准配置方式)
+ 网卡信息文件`/etc/sysconfig/network-scripts/ifcfg-eth0`
```
DEVICE="eth0"   //网卡设备名
BOOTPROTO="dhcp"    //是否自动获取IP(none,static,DHCP)
HWADDR="00:0C:29:DF:A7:35"  //MAC地址
IPV6INIT="yes"  //IPv6启用
NM_CONTROLLED="yes"     //是否可以由network manage图形管理工具托管
ONBOOT="yes"        //是否随网络服务启动,eth0生效
TYPE="Ethernet"     //类型为以太网
UUID="de49d7b9-9907-4a79-a650-304ad640df35"     //唯一识别码
USERCTL=no       //不允许非root用户控制网卡
```

+ 主机名文件`/etc/sysconfig/network`
```
NETWORKING=yes
HOSTNAME=localhost.localdomain
```

+ DNS配置文件`/etc/resolv.conf`
```
# Generated by NetworkManager
domain localdomain
search localdomain
nameserver 192.168.71.2
```

# 虚拟机网络参数配置
### 配置LinuxIP地址
+ `setup修改`
+ 启动网卡`/etc/sysconfig/network-scripts/ifcfg-eth0`
    + ONBOOT=yes
+ 重启网络服务`service network restart`
+ 修改UUID
    + `/etc/sysconfig/network-scripts/ifcfg-eth0`删除MAC行
    + `rm -rf /etc/udev/rules.d/70-persistent-net.rules`删除网卡和MAC地址绑定文件
    + 重新启动操作系统
+ 设置虚拟机网络连接方式
+ 修改桥接网卡
    + 在vm的`edit`选项卡下的`virtual network editor`
    + 选择桥接一个网卡即可

### 设置虚拟机网络配置方式
+ 在vmware虚拟机设置中设置
+ 桥接,虚拟机和真实机之间利用网卡通信
    + 配置最简单,但是需要占用本机的一个IP地址
+ NAT,虚拟机和真实机通信采用的是vm虚拟网卡
    + 可以上公网
    + 虚拟机只能和真实机通信,不能在局域网之内通信
+ Host-only,虚拟机和真实机之间用的是eth1虚拟网卡
    + 不可以上公网
    + 虚拟机只能和真实机通信,不能在局域网之内通信

