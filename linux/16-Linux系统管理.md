# Linux系统管理

### 1. **`vmstat`命令监控系统资源**
+ `vmstat [刷新延时] [刷新次数]`
```
procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  0   7568  69584  84376 461280    0    1    71    46  179  200  8  4 88  0  0    
 1  0   7568  69568  84376 461280    0    0     0     0  123  114  2  5 92  0  0    
 1  0   7568  69444  84376 461280    0    0     0     0   86   72  1  4 95  0  0
```

+ procs:进程信息字段
    + `-r`:,数量越大,系统越繁忙
    + `-b`:不可被唤等待运行的进程数醒的进程数量,数量越大,系统越繁忙
+ memory:内存信息字段
    + `swpd`:虚拟内存的使用情况,单位KB
    + `free`:空闲内存的使用容量,单位KB
    + `buff`:缓冲内存的使用容量,单位KB
    + `cache`:缓存内存的使用容量,单位KB
+ `swap`:交换分区的信息字段
    + `si`:从磁盘中交换到内存中数据的数量,单位kb
    + `so`:从内存欧中交换到磁盘中数据的数量,单位Kb
    + 这两个数值越大，证明数据需要经常在磁盘和内存之间交换,系统性能越差
+ `io`:磁盘读写信息字段
    + `bi`:从块设备读入数据的总量,单位是块
    + `bo`:写到块设备的数据的总量,单位是块
    + 这两个数越大,系统的I/O越繁忙
+ `system`:系统信息字段
    + `in`:每秒被中断的进程次数
    + `cs`:每秒进行的时间切换次数
    + 这两个数越大,代表系统与接口设备的通信非常繁忙
+ `CPU`:CPU信息字段
    + `us`:非内核进程消耗CPU运算时间的百分比
    + `sy`:内核进程消耗CPU运算时间的百分比
    + `id`:空闲CPU的百分比
    + `wa`:等待I/O所消耗的CPU百分比
    + `st`:被虚拟机所盗用的CPU占比

### 2. **`dmesg`开机时内核检测信息**
+ `dmesg | grep CPU`

### 3. **`free`命令查看内存使用状态**
+ `free [-b|-k|-m|g]`
+ `-b`:以字节为单位显示
+ `-k`:以KB为单位显示(默认)
+ `-m`:以MB为单位显示
+ `-g`:以GB为单位显示

### 4. `uptime`命令
+ 显示系统的启动时间和平均负载,也就是top命令的第一行
+ w命令也可以看到这个数据

### 5. `uname`查看信息与内核相关信息
+ `-a`:查看系统所有相关信息
+ `-r`:查看内核版本
+ `-s`:查看内核名称
+ 查看发行版本:`lsb_release -a`

### 6. `lsof`列出进程打开或者使用文件信息
+ `lsof [选项]`列出进程调用或打开的文件的信息
+ `-c 字符串`:只列出以字符串开头的进程打开的文件
+ `-u 用户名`:只列出某个用户的进程打开的文件
+ `-p pid`:列出某个PID进程打开的文件

### `cat /proc/cpuinfo`查看cpu信息
### 查看操作系统位数
+ 投机取巧一下,查看命令的位数，即操作系统的位数
+ `file /bin/ls`

### 查看当前Linux系统的发型版本
+ `lsb_release -a`

### 缓冲`cache`和缓存`buffer`的区别
+ 缓存(cache)是用来加速数据从硬盘中读取
+ 缓冲(buffer)是用来加速读取`写入`硬盘的
