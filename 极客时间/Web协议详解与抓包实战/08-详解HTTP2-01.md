# 1. HTTP/1.1 发展中遇到的问题
## 1.1 HTTP/1.1 发明以来发生了哪些变化
+ 从几 kb 大小的消息，到几 MB 大小的消息
+ 每个页面小于 10 个资源，到每个页面 100 多个资源
+ 以文本为主的内容，到富媒体为主的内容
+ 对页面内容实时性高要求的应用越来越多
+ HTTP/1.1 不支持服务端主动传递消息

## 1.2 HTTP/1.1 的高延迟问题
+ 高延迟带来页面加载速度的降低
  + 随着带宽的增加，延迟并没有显著下降
  + 并发连接有限
  + 同一连接同时只能在完成一个 HTTP 事务(请求/响应)才能处理下一个事务

## 1.3 高延迟 VS 高带宽
+ 单连接上的串行请求
+ 无状态导致的高传输量(低网络效率)

## 1.4 无状态特性带来的巨大 HTTP 头部
+ 重复传输的体积巨大的 HTTP 头部

## 1.5 HTTP/1.1 为了解决性能问题做过的努力
+ Spriting 合并多张小图为一张大图供浏览器 JS 切割使用
  + 不能区别对待
+ Inlining 内连，将图片嵌入到 CSS 或者 HTML 文件中，减少网络请求次数
+ Concatenation 拼接，将多个体积较小的 JavaScript 应用使用 webpack 等工具打包成 1 个体积更大的 JavaScript 文件
  + 一个文件的改动导致用户重新下载多个文件
+ Sharding 分片，将同一个页面的资源分散到不能域名下，提升连接上限

# 2. HTTP2 的特性
## 2.1 解决 HTTP/1 性能问题的 HTTP/2
+ 前身使用 SPDY(2012-2016) 协议
+ HTTP2(RFC7540, 2015.5)
  + 在应用层上修改，基于并充分挖掘 TCP 协议性能
  + 客户端向 server 发送 request 这种基本模型不会变
  + 老的 schema 不会变，没有 http2://
  + 使用 http/1.x 的客户端和服务器可以无缝的通过代理方式转接到 http/2 上
  + 不识别 http/2 的代理服务器可以将请求降级到 http/1.x

## 2.2 HTTP/2 的应用状况
+ 截至 2011.5.17，互联网上使用 HTTP/2 协议的站点已经达到 37.2%
+ 快速推广的原因
  + 未改变 HTTP/1.1 的语义
  + 基于 TCP，仅在应用层变动


## 2.3 测试浏览器是否支持 http2
+ [链接](https://http2.akamai.com/demo)

## 2.4 HTTP/2 主要特性
+ 传输数据量大幅减少
  + 以二进制方式传输
  + 标头压缩
+ 多路复用及相关功能
  + 消息优先级
+ 服务器消息推送
  + 并行推送
